<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>Next PhysicsEngine (mini) - Spring</title>
  <script type="text/javascript" src="bin/npengine.dev.js"></script>
  <script type="text/javascript" src="lib/dat.gui.min.js"></script>
</head>
<body>
<script type="text/javascript">
  var engine = new NPEngine;
  var parabolicMotion = new NPEngine.ParabolicMotion;
  var grid = new NPEngine.QuadrantGrid;
  grid.setRatio(50);
  engine.setGrid(grid);
  engine.addDisplayObject(parabolicMotion);
  engine.ready();

  // default value
  var DefaultValue = function () {
    this.gravity = 9.8;
    this.mass = 1;
    this.angle = 45;
    this.velocity = 70;
  };

  window.onload = function () {
    var defaultValue = new DefaultValue();
    var gui = new dat.GUI();

    var gravityFolder = gui.addFolder('중력 (m/s^2)');
    gravityFolder.open();
    var gravity = gravityFolder.add(defaultValue, 'gravity');
    gravity.onChange(function (value) {
      engine.stop();
      parabolicMotion.setGravity(value);
      engine.ready();
    });

    var massFolder = gui.addFolder('질량 (kg)');
    massFolder.open();
    var mass = massFolder.add(defaultValue, 'mass');
    mass.onChange(function (value) {
      engine.stop();
      parabolicMotion.setMass(value);
      engine.ready();
    });

    var angleFolder = gui.addFolder('각도 (degree)');
    angleFolder.open();
    var angle = angleFolder.add(defaultValue, 'angle');
    angle.onChange(function (value) {
      engine.stop();
      parabolicMotion.setAngle(value);
      engine.ready();
    });

    var velocityFolder = gui.addFolder('속도 (m/s)');
    velocityFolder.open();
    var velocity = velocityFolder.add(defaultValue, 'velocity');
    velocity.onChange(function (value) {
      engine.stop();
      parabolicMotion.setVelocity(value);
      engine.ready();
    });
  };
</script>
</body>
</html>